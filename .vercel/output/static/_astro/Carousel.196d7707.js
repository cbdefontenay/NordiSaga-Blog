import{u as z,f as b,a as K,P as B,L as H,j as u,m as E}from"./motion.fbb9127f.js";import{r as e}from"./index.03be2d59.js";/* empty css                       */function N(){const n=e.useRef(!1);return z(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function O(){const n=N(),[r,t]=e.useState(0),s=e.useCallback(()=>{n.current&&t(r+1)},[r]);return[e.useCallback(()=>b.postRender(s),[s]),r]}class S extends e.Component{getSnapshotBeforeUpdate(r){const t=this.props.childRef.current;if(t&&r.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function U({children:n,isPresent:r}){const t=e.useId(),s=e.useRef(null),h=e.useRef({width:0,height:0,top:0,left:0});return e.useInsertionEffect(()=>{const{width:p,height:d,top:c,left:x}=h.current;if(r||!s.current||!p||!d)return;s.current.dataset.motionPopId=t;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${d}px !important;
            top: ${c}px !important;
            left: ${x}px !important;
          }
        `),()=>{document.head.removeChild(l)}},[r]),e.createElement(S,{isPresent:r,childRef:s,sizeRef:h},e.cloneElement(n,{ref:s}))}const k=({children:n,initial:r,isPresent:t,onExitComplete:s,custom:h,presenceAffectsLayout:p,mode:d})=>{const c=K(V),x=e.useId(),l=e.useMemo(()=>({id:x,initial:r,isPresent:t,custom:h,onExitComplete:o=>{c.set(o,!0);for(const i of c.values())if(!i)return;s&&s()},register:o=>(c.set(o,!1),()=>c.delete(o))}),p?void 0:[t]);return e.useMemo(()=>{c.forEach((o,i)=>c.set(i,!1))},[t]),e.useEffect(()=>{!t&&!c.size&&s&&s()},[t]),d==="popLayout"&&(n=e.createElement(U,{isPresent:t},n)),e.createElement(B.Provider,{value:l},n)};function V(){return new Map}function A(n){return e.useEffect(()=>()=>n(),[])}const g=n=>n.key||"";function D(n,r){n.forEach(t=>{const s=g(t);r.set(s,t)})}function _(n){const r=[];return e.Children.forEach(n,t=>{e.isValidElement(t)&&r.push(t)}),r}const T=({children:n,custom:r,initial:t=!0,onExitComplete:s,exitBeforeEnter:h,presenceAffectsLayout:p=!0,mode:d="sync"})=>{const c=e.useContext(H).forceRender||O()[0],x=N(),l=_(n);let o=l;const i=e.useRef(new Map).current,m=e.useRef(o),v=e.useRef(new Map).current,R=e.useRef(!0);if(z(()=>{R.current=!1,D(l,v),m.current=o}),A(()=>{R.current=!0,v.clear(),i.clear()}),R.current)return e.createElement(e.Fragment,null,o.map(a=>e.createElement(k,{key:g(a),isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:p,mode:d},a)));o=[...o];const w=m.current.map(g),j=l.map(g),I=w.length;for(let a=0;a<I;a++){const f=w[a];j.indexOf(f)===-1&&!i.has(f)&&i.set(f,void 0)}return d==="wait"&&i.size&&(o=[]),i.forEach((a,f)=>{if(j.indexOf(f)!==-1)return;const M=v.get(f);if(!M)return;const F=w.indexOf(f);let y=a;if(!y){const $=()=>{i.delete(f);const P=Array.from(v.keys()).filter(C=>!j.includes(C));if(P.forEach(C=>v.delete(C)),m.current=l.filter(C=>{const L=g(C);return L===f||P.includes(L)}),!i.size){if(x.current===!1)return;c(),s&&s()}};y=e.createElement(k,{key:g(M),isPresent:!1,onExitComplete:$,custom:r,presenceAffectsLayout:p,mode:d},M),i.set(f,y)}o.splice(F,0,y)}),o=o.map(a=>{const f=a.key;return i.has(f)?a:e.createElement(k,{key:g(a),isPresent:!0,presenceAffectsLayout:p,mode:d},a)}),e.createElement(e.Fragment,null,i.size?o:o.map(a=>e.cloneElement(a)))},q=({images:n})=>{const[r,t]=e.useState(0),[s,h]=e.useState(null),p={hiddenRight:{x:"100%",opacity:0},hiddenLeft:{x:"-100%",opacity:0},visible:{x:"0",opacity:1,transition:{duration:1}},exit:{opacity:0,scale:.8,transition:{duration:.5}}},d={hover:{scale:1.2}},c={initial:{y:0},animate:{y:-10,scale:1.2,transition:{type:"spring",stiffness:1e3,damping:"10"}},hover:{scale:1.1,transition:{duration:.2}}},x=()=>{h("right"),t(i=>i+1===n.length?0:i+1)},l=()=>{h("left"),t(i=>i-1<0?n.length-1:i-1)},o=i=>{h(i>r?"right":"left"),t(i)};return u.jsxs("div",{className:"carousel",children:[u.jsxs("div",{className:"carousel-images",children:[u.jsx(T,{children:u.jsx(E.img,{src:n[r],initial:s==="right"?"hiddenRight":"hiddenLeft",animate:"visible",exit:"exit",variants:p},r)}),u.jsxs("div",{className:"slide_direction",children:[u.jsx(E.div,{variants:d,whileHover:"hover",className:"left",onClick:l,children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"30",viewBox:"0 96 960 960",width:"30",children:u.jsx("path",{fill:"#fff",d:"M400 976 0 576l400-400 56 57-343 343 343 343-56 57Z"})})}),u.jsx(E.div,{variants:d,whileHover:"hover",className:"right",onClick:x,children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"30",viewBox:"0 96 960 960",width:"30",children:u.jsx("path",{fill:"#fff",d:"m304 974-56-57 343-343-343-343 56-57 400 400-400 400Z"})})})]})]}),u.jsx("div",{className:"carousel-indicator",children:n.map((i,m)=>u.jsx(E.div,{className:`dot ${r===m?"active":""}`,onClick:()=>o(m),initial:"initial",animate:r===m?"animate":"",whileHover:"hover",variants:c},m))})]})};export{q as default};
